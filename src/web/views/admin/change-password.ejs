<%- include('../partials/header') %>

<div class="admin-login">
    <div class="admin-login-container">
        <% if (typeof mustChange !== 'undefined' && mustChange) { %>
        <div class="admin-warning-banner" style="background: #fef3c7; border-color: #f59e0b;">
            <i data-lucide="alert-triangle" style="width: 20px; height: 20px; min-width: 20px; min-height: 20px; color: #d97706;"></i>
            <p style="color: #92400e;">You must set a new password before continuing. This is required for first-time login.</p>
        </div>
        <% } %>
        
        <div class="admin-header">
            <h1>Set New Password</h1>
            <p>Choose a secure password for your account</p>
        </div>
        
        <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-error">
                <%= error %>
            </div>
        <% } %>
        
        <form method="POST" action="/admin/change-password" class="admin-form">
            <div class="form-group">
                <label for="password">New Password</label>
                <input type="password" id="password" name="password" required minlength="6" autofocus>
                <small style="color: var(--muted); margin-top: 0.25rem; display: block;">Minimum 6 characters</small>
            </div>
            
            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required minlength="6">
            </div>
            
            <button type="submit" class="btn btn-admin">Set Password</button>
        </form>
        
        <% if (!(typeof mustChange !== 'undefined' && mustChange)) { %>
        <div class="admin-footer">
            <a href="/admin/dashboard">‚Üê Back to Dashboard</a>
        </div>
        <% } %>
    </div>
</div>

<%- include('../partials/footer') %>
